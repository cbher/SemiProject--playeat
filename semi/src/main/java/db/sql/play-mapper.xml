<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectPlayList">
		SELECT
			   P_NO
		     , P_TITLE
		     , ADDRESS
		     , P_CALL
		     , P_SCORE
		     , FILE_PATH || ORIGIN_NAME "TITLEIMG"
		 FROM PLACE
		 LEFT JOIN ATTECHMENT ON (P_NO = PLACE_NO)
		WHERE P_SELECT_NUM = 2  
		  AND FILE_LEVEL = 1 
		  AND P_STATUS = 'Y'
	</entry>
	<entry key="selectDetailPlay">
		SELECT
			   P_NO
			 , P_TITLE
			 , ADDRESS
			 , P_CALL
			 , P_SCORE
			 , BUSINESSTIME
			 , TEM_CATE_NO
		  FROM PLACE
		 WHERE P_STATUS = 'Y'
		   AND P_NO = ?
	</entry>
	<entry key="selectAttachmentList">
		SELECT
			   FILE_NO
			 , ORIGIN_NAME
			 , CHANGE_NAME
			 , FILE_PATH
		  FROM ATTECHMENT
		 WHERE PLACE_NO = ?
	</entry>
	<entry key="selectPlaySimilarList">
		SELECT
			   P_NO
			 , P_TITLE
			 , FILE_PATH || ORIGIN_NAME "TITLEIMG"
		  FROM PLACE
		  LEFT JOIN ATTECHMENT ON (PLACE_NO = P_NO)
		 WHERE STATUS = 'Y'
		   AND TEM_CATE_NO = ?
		   AND P_NO != ?
	</entry>
	<entry key="selectPlayReply">
		SELECT
			   COM_NO
			 , COM_CONTENT
			 , SCORE
			 , CREATE_DATE
			 , USER_ID
		  FROM PLAY_COMMENT C
		  JOIN MEMBER USING (USER_NO)
		 WHERE PLACE_NO = ?
		   AND C.STATUS = 'Y'
		 ORDER 
		    BY COM_NO DESC
 	</entry>
 	<entry key="insertReply">
 		INSERT
 		  INTO PLAY_COMMENT
 		  (
 		    COM_NO
 		  , COM_CONTENT
 		  , SCORE
 		  , USER_NO
 		  , PLACE_NO
 		  )
 		  VALUES
 		  (
 		  	SEQ_PCOMMENT.NEXTVAL
 		  , ?
 		  , ?
 		  , ?
 		  , ?
 		  )
 	</entry>
 	<entry key="selectScore">
 		SELECT ROUND(AVG(SCORE),1) "AVG"
 		  FROM PLAY_COMMENT
 		 WHERE PLACE_NO = ?
 		   AND STATUS = 'Y'
 	</entry>
	<entry key="selectLikeCount">
		SELECT
		       COUNT(*) "COUNT"
		  FROM LIKE_LIST
		 WHERE USER_NO = ?
		   AND PLAY_NO = ?
	</entry>
	<entry key="insertLikeList">
		INSERT
		  INTO	LIKE_LIST
		  (
		    LIKE_NO
		  , USER_NO
		  , PLAY_NO 
		  )
		  VALUES
		  (
		    LIKE_LIST_SEQ.NEXTVAL
		  , ?
		  , ?
		  )
	</entry>
	<entry key="deleteLikeList">
		DELETE
		  FROM LIKE_LIST
		 WHERE USER_NO = ?
		   AND PLAY_NO = ?
	</entry>
</properties>